{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"error","message":"Erreur de connexion à MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-zfoahu-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\connection.js:791:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"error","message":"Erreur de connexion à MongoDB: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{},"setName":"atlas-zfoahu-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\connection.js:816:11)\n    at NativeConnection.openUri (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\connection.js:791:11)"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"code":"ECONNREFUSED","hostname":"_mongodb._tcp.cluster0.zfkt3sa.mongodb.net","level":"error","message":"Erreur de connexion à MongoDB: querySrv ECONNREFUSED _mongodb._tcp.cluster0.zfkt3sa.mongodb.net","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.zfkt3sa.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:293:17)","syscall":"querySrv"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"error","message":"Error: Login sessions require session support. Did you forget to use `express-session` middleware?\n    at SessionManager.logIn (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\sessionmanager.js:21:33)\n    at req.login.req.logIn (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\http\\request.js:39:26)\n    at strategy.success (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\middleware\\authenticate.js:256:13)\n    at verified (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport-oauth2\\lib\\strategy.js:189:20)\n    at Strategy._verify (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\src\\config\\passport.js:45:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"error","message":"TokenError: Bad Request\n    at OAuth2Strategy.parseErrorResponse (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport-oauth2\\lib\\strategy.js:373:12)\n    at OAuth2Strategy._createOAuthError (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport-oauth2\\lib\\strategy.js:420:16)\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport-oauth2\\lib\\strategy.js:177:45\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\oauth\\lib\\oauth2.js:196:18\n    at passBackControl (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\oauth\\lib\\oauth2.js:132:9)\n    at IncomingMessage.<anonymous> (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\oauth\\lib\\oauth2.js:157:7)\n    at IncomingMessage.emit (node:events:536:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"error","message":"ReferenceError: jwt is not defined\n    at userSchema.methods.generateAuthToken (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\src\\models\\User.js:83:3)\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\src\\routes\\auth.js:94:28\n    at Layer.handle [as handle_request] (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at complete (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\middleware\\authenticate.js:271:13)\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\middleware\\authenticate.js:278:15\n    at pass (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\authenticator.js:428:14)\n    at Authenticator.transformAuthInfo (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\authenticator.js:450:5)\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\middleware\\authenticate.js:275:22\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\passport\\lib\\http\\request.js:41:7"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"error","message":"ValidationError: User validation failed: lastName: Path `lastName` is required.\n    at Document.invalidate (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"error","message":"ValidationError: User validation failed: lastName: Path `lastName` is required.\n    at Document.invalidate (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\document.js:3219:32)\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\document.js:3012:17\n    at C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)"}
{"level":"error","message":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-f1cefld-shard-00-02.zfkt3sa.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"error","message":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-f1cefld-shard-00-02.zfkt3sa.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"error","message":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-f1cefld-shard-00-02.zfkt3sa.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"error","message":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-f1cefld-shard-00-02.zfkt3sa.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"error","message":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-f1cefld-shard-00-02.zfkt3sa.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"error","message":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-f1cefld-shard-00-02.zfkt3sa.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"error","message":"MongoServerSelectionError: connection <monitor> to 65.62.29.18:27017 closed\n    at Timeout._onTimeout (C:\\Users\\dalid\\workspace\\zakaria\\course-plateform\\auth-service\\node_modules\\mongodb\\lib\\sdam\\topology.js:278:38)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
{"level":"info","message":"Serveur démarré sur le port 3001"}
{"level":"info","message":"Connecté à MongoDB"}
